<?xml version="1.0" encoding="ASCII"?>
<m4jdsl:WorkloadModel
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:m4jdsl="http://m4jdsl/1.0"
    xsi:schemaLocation="http://m4jdsl/1.0 m4jdsl.ecore">
  <workloadIntensity
      xsi:type="m4jdsl:ConstantWorkloadIntensity"
      formula="1"
      numberOfSessions="1"/>
  <applicationModel>
    <sessionLayerEFSM
        initialState="//@applicationModel/@sessionLayerEFSM/@applicationStates.0">
      <applicationStates
          eId="AS_Login">
        <service
            name="Login"/>
        <protocolDetails
            initialState="PS_Login"
            exitState="PS_Welcome">
          <states
              eId="PS_Login">
            <request
                xsi:type="m4jdsl:HTTPRequest"
                eId="login.shtml">
              <properties
                  key="HTTPSampler.domain"
                  value="net.sf.markov4jmrter.m4dsl"/>
              <properties
                  key="HTTPSampler.port"
                  value="8080"/>
              <properties
                  key="HTTPSampler.path"
                  value="login.shtml"/>
            </request>
          </states>
          <states
              eId="PS_Welcome">
            <request
                xsi:type="m4jdsl:HTTPRequest"
                eId="welcome.shtml">
              <properties
                  key="HTTPSampler.domain"
                  value="net.sf.markov4jmrter.m4dsl"/>
              <properties
                  key="HTTPSampler.port"
                  value="8080"/>
              <properties
                  key="HTTPSampler.path"
                  value="welcome.shtml"/>
            </request>
          </states>
        </protocolDetails>
        <outgoingTransitions
            targetState="//@applicationModel/@sessionLayerEFSM/@applicationStates.1"/>
      </applicationStates>
      <applicationStates
          eId="AS_Logout">
        <service
            name="Logout"/>
        <protocolDetails
            initialState="PS_Logout"
            exitState="PS_ByeBye">
          <states
              eId="PS_Logout">
            <request
                xsi:type="m4jdsl:HTTPRequest"
                eId="logout.shtml">
              <properties
                  key="HTTPSampler.domain"
                  value="net.sf.markov4jmrter.m4dsl"/>
              <properties
                  key="HTTPSampler.port"
                  value="8080"/>
              <properties
                  key="HTTPSampler.path"
                  value="logout.shtml"/>
            </request>
          </states>
          <states
              eId="PS_ByeBye">
            <request
                xsi:type="m4jdsl:HTTPRequest"
                eId="byebye.shtml">
              <properties
                  key="HTTPSampler.domain"
                  value="net.sf.markov4jmrter.m4dsl"/>
              <properties
                  key="HTTPSampler.port"
                  value="8080"/>
              <properties
                  key="HTTPSampler.path"
                  value="byebye.shtml"/>
            </request>
          </states>
        </protocolDetails>
        <outgoingTransitions
            targetState="//@applicationModel/@sessionLayerEFSM/@exitState"/>
        <outgoingTransitions
            targetState="//@applicationModel/@sessionLayerEFSM/@applicationStates.0"/>
      </applicationStates>
      <exitState/>
    </sessionLayerEFSM>
  </applicationModel>
  <behaviorMix>
    <relativeFrequencies
        behaviorModel="//@behaviorModels.0"
        value="1.0"/>
  </behaviorMix>
  <behaviorModels
      name="BM1"
      filename="userbehavior.csv"
      initialState="//@behaviorModels.0/@markovStates.0">
    <markovStates
        service="//@applicationModel/@sessionLayerEFSM/@applicationStates.0/@service"
        eId="MS_Login">
      <outgoingTransitions
          targetState="//@behaviorModels.0/@markovStates.1"
          probability="1.0">
        <thinkTime
            xsi:type="m4jdsl:NormallyDistributedThinkTime"
            mean="5.0"
            deviation="2.5"/>
      </outgoingTransitions>
    </markovStates>
    <markovStates
        service="//@applicationModel/@sessionLayerEFSM/@applicationStates.1/@service"
        eId="MS_Logout">
      <outgoingTransitions
          targetState="//@behaviorModels.0/@exitState"
          probability="0.8">
        <thinkTime
            xsi:type="m4jdsl:NormallyDistributedThinkTime"
            mean="3.0"
            deviation="1.0"/>
      </outgoingTransitions>
      <outgoingTransitions
          targetState="//@behaviorModels.0/@markovStates.0"
          probability="0.2">
        <thinkTime
            xsi:type="m4jdsl:NormallyDistributedThinkTime"
            mean="12.0"
            deviation="4.0"/>
      </outgoingTransitions>
    </markovStates>
    <exitState/>
  </behaviorModels>
</m4jdsl:WorkloadModel>
